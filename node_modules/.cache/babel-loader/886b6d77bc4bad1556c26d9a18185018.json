{"ast":null,"code":"var _jsxFileName = \"/Users/vladikbaryshpolets/Desktop/calculator/src/components/Calculator.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Wrapper, AnswerBlock, GetNumbers, Answer, FLexContainer, RowBlock, ExceptionH3 } from \"./StyledCalculator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Calculator = () => {\n  _s();\n\n  const calcAct = useRef({\n    currentOperation: \"\",\n    currentNumberBefore: \"\",\n    currentNumberAfter: \"\",\n    prevMemo: \"\"\n  });\n  const [numbersDisplay, setNumbersDisplay] = useState(\"\");\n  const [results, setResults] = useState(null);\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n  }, []);\n  useEffect(() => {\n    if (results === \"Infinity\" || results === \"NaN\") {\n      alert(\"Never devide any numbers by zero, press OK and never do this\");\n      clear();\n    }\n  }, [results]);\n\n  const memory = () => {\n    const res = getResults(calcAct.current.currentNumberBefore, calcAct.current.currentNumberAfter, calcAct.current.currentOperation) + Number(calcAct.current.prevMemo);\n    const strRes = res.toString();\n    calcAct.current.prevMemo = strRes;\n    calcAct.current.currentNumberBefore = \"\";\n    calcAct.current.currentNumberAfter = \"\";\n    calcAct.current.currentOperation = \"\";\n    setNumbersDisplay(() => \"\");\n  };\n\n  const memShowHandle = () => {\n    setResults(() => Number(calcAct.current.prevMemo));\n    calcAct.current.currentNumberBefore = calcAct.current.prevMemo;\n    calcAct.current.currentNumberAfter = \"\";\n    calcAct.current.currentOperation = \"\";\n    setNumbersDisplay(() => calcAct.current.currentNumberBefore);\n  };\n\n  const getResults = (prev, next, operation) => {\n    let isPointAppear = false;\n\n    if (prev.toString().includes(\".\") || next.toString().includes('.') || prev.toString().includes(\"%\") || next.toString().includes(\"%\")) {\n      isPointAppear = !isPointAppear;\n    }\n\n    let toFixedCheckPoint = isPointAppear ? 1 : 0;\n\n    switch (operation) {\n      case \"+\":\n        if (!next.includes(\"%\")) {\n          return +prev + +next;\n        } else {\n          return (+prev + +prev / 100 * +next.slice(0, -1)).toFixed(toFixedCheckPoint);\n        }\n\n      case \"*\":\n        if (!next.includes(\"%\")) {\n          return +prev * +next;\n        } else {\n          return +prev / 100 * (+next.slice(0, -1)).toFixed(toFixedCheckPoint);\n        }\n\n      case \"/\":\n        if (!next.includes(\"%\")) {\n          return +prev / +next;\n        } else {\n          return Number(+prev / (+next.slice(0, -1) / 100)).toFixed(1);\n        }\n\n      case \"-\":\n        if (!next.includes(\"%\")) {\n          return +prev - +next;\n        } else {\n          return +prev - (+prev / 100 * +next.slice(0, -1)).toFixed(toFixedCheckPoint);\n        }\n\n      default:\n        return operation;\n    }\n  };\n\n  const finalResult = () => {\n    const prevNumber = calcAct.current.currentNumberBefore;\n    const nextNumber = calcAct.current.currentNumberAfter;\n    let isPointAppear = false;\n\n    if (prevNumber.toString().includes(\".\") || nextNumber.toString().includes('.') || prevNumber.toString().includes(\"%\") || nextNumber.toString().includes(\"%\")) {\n      isPointAppear = !isPointAppear;\n    }\n\n    let toFixedCheckPoint = isPointAppear ? 1 : 0;\n\n    switch (calcAct.current.currentOperation) {\n      case \"+\":\n        if (!calcAct.current.currentNumberAfter.includes(\"%\")) {\n          setResults(() => (+prevNumber + +nextNumber).toFixed(toFixedCheckPoint));\n        } else {\n          setResults(() => (+prevNumber + +prevNumber / 100 * +calcAct.current.currentNumberAfter.slice(0, -1)).toFixed(toFixedCheckPoint));\n        }\n\n        break;\n\n      case \"*\":\n        if (!calcAct.current.currentNumberAfter.includes(\"%\")) {\n          setResults(() => (+prevNumber * +nextNumber).toFixed(toFixedCheckPoint));\n        } else {\n          setResults(() => (+prevNumber / 100 * +calcAct.current.currentNumberAfter.slice(0, -1)).toFixed(toFixedCheckPoint));\n        }\n\n        break;\n\n      case \"/\":\n        if (!calcAct.current.currentNumberAfter.includes(\"%\")) {\n          setResults(() => (+prevNumber / +nextNumber).toFixed(toFixedCheckPoint));\n        } else {\n          setResults(() => Number(+prevNumber / (+calcAct.current.currentNumberAfter.slice(0, -1) / 100)).toFixed(1));\n        }\n\n        break;\n\n      case \"-\":\n        if (!calcAct.current.currentNumberAfter.includes(\"%\")) {\n          setResults(() => (+prevNumber - +nextNumber).toFixed(toFixedCheckPoint));\n        } else {\n          setResults(() => +prevNumber - (+prevNumber / 100 * +calcAct.current.currentNumberAfter.slice(0, -1)).toFixed(toFixedCheckPoint));\n        }\n\n        break;\n\n      default:\n        return calcAct.current.currentOperation;\n    }\n\n    if (results !== null || results <= -1) {\n      const reverseResults = () => {\n        const res = getResults(calcAct.current.currentNumberBefore, calcAct.current.currentNumberAfter, calcAct.current.currentOperation);\n        const strRes = res.toString();\n        calcAct.current.currentNumberBefore = strRes;\n        calcAct.current.currentNumberAfter = \"\";\n        calcAct.current.currentOperation = \"\";\n        setResults(() => null);\n        setNumbersDisplay(() => strRes);\n      };\n\n      reverseResults();\n    }\n  };\n\n  const clear = () => {\n    setNumbersDisplay(() => \"\");\n    setResults(() => null);\n    calcAct.current.currentOperation = \"\";\n    calcAct.current.currentNumberBefore = \"\";\n    calcAct.current.currentNumberAfter = \"\";\n    calcAct.current.prevMemo = \"\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(AnswerBlock, {\n      children: [/*#__PURE__*/_jsxDEV(GetNumbers, {\n        children: numbersDisplay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Answer, {\n        children: results\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FLexContainer, {\n      children: [/*#__PURE__*/_jsxDEV(RowBlock, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            background: \"#d0cccc\"\n          },\n          onClick: clear,\n          children: \"AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: memory,\n          children: \"ME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => clickOperation(e),\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(RowBlock, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => clickOperation(e),\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(RowBlock, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => clickOperation(e),\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(RowBlock, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => clickOperation(e),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(RowBlock, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getItem(e),\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ExceptionH3, {\n          onClick: finalResult,\n          children: \"=\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: memShowHandle,\n          children: \"MRC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Calculator, \"bt3KygyoX+Pk/8M4jLDJcn148Z4=\");\n\n_c = Calculator;\nexport default Calculator;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"sources":["/Users/vladikbaryshpolets/Desktop/calculator/src/components/Calculator.jsx"],"names":["React","useState","useEffect","useRef","Wrapper","AnswerBlock","GetNumbers","Answer","FLexContainer","RowBlock","ExceptionH3","Calculator","calcAct","currentOperation","currentNumberBefore","currentNumberAfter","prevMemo","numbersDisplay","setNumbersDisplay","results","setResults","window","addEventListener","handleKeyDown","alert","clear","memory","res","getResults","current","Number","strRes","toString","memShowHandle","prev","next","operation","isPointAppear","includes","toFixedCheckPoint","slice","toFixed","finalResult","prevNumber","nextNumber","reverseResults","background","e","getItem","clickOperation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Wrapper, AnswerBlock, GetNumbers, Answer, \n        FLexContainer, RowBlock, ExceptionH3 } from \"./StyledCalculator\";\n\nconst Calculator = () => {\n\n    const calcAct = useRef({\n        currentOperation: \"\",\n        currentNumberBefore: \"\",\n        currentNumberAfter: \"\",\n        prevMemo: \"\",\n    })\n\n    const [numbersDisplay, setNumbersDisplay] = useState(\"\");\n\n    const [ results, setResults] = useState(null);\n\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown);\n    }, []);\n\n    useEffect(() => {\n        if(results === \"Infinity\" || results === \"NaN\") {\n            alert(\"Never devide any numbers by zero, press OK and never do this\")\n            clear()\n        }\n    }, [results])\n\n   \n    \n\n    \n\n   \n\n    const memory = () => {\n        const res = getResults(\n        calcAct.current.currentNumberBefore, \n        calcAct.current.currentNumberAfter, \n        calcAct.current.currentOperation) + Number(calcAct.current.prevMemo);\n        const strRes = res.toString();\n        calcAct.current.prevMemo = strRes;\n        calcAct.current.currentNumberBefore = \"\";\n        calcAct.current.currentNumberAfter = \"\";\n        calcAct.current.currentOperation = \"\";\n        setNumbersDisplay(() => \"\")\n    }\n\n    const memShowHandle = () => {\n        setResults(() => Number(calcAct.current.prevMemo));\n        calcAct.current.currentNumberBefore = calcAct.current.prevMemo;\n        calcAct.current.currentNumberAfter = \"\";\n        calcAct.current.currentOperation = \"\";\n        setNumbersDisplay(() => calcAct.current.currentNumberBefore)\n    }\n\n    const getResults = (prev, next, operation) => {\n\n        let isPointAppear = false;\n        \n        if(prev.toString().includes(\".\") \n        || next.toString().includes('.') \n        || prev.toString().includes(\"%\")\n        || next.toString().includes(\"%\")) {\n            isPointAppear = !isPointAppear;\n        }   \n        let toFixedCheckPoint = isPointAppear ? 1 : 0;\n\n        switch(operation){\n           case \"+\":\n               if(!next.includes(\"%\")) {\n                   return (+prev + +next)\n               } else {\n                   return (+prev + ((+prev / 100) * (+next.slice(0, -1)))).toFixed(toFixedCheckPoint)\n               }\n           case \"*\":\n               if(!next.includes(\"%\")) {\n                   return (+prev * +next)\n               } else {\n                   return (+prev / 100) * (+next.slice(0, -1)).toFixed(toFixedCheckPoint)\n               }\n                \n           case \"/\":\n               if(!next.includes(\"%\")) {\n                   return (+prev / +next)\n               } else {\n                   return Number((+prev) / (+next.slice(0, -1) / 100)).toFixed(1)\n               }\n           case \"-\":\n               if(!next.includes(\"%\")) {\n                   return (+prev - +next)\n               } else {\n                   return (+prev) - ((+prev / 100) * (+next.slice(0, -1))).toFixed(toFixedCheckPoint)\n               }\n           default:\n               return operation\n        }\n    }  \n\n    const finalResult = () => {\n        const prevNumber = calcAct.current.currentNumberBefore;\n        const nextNumber = calcAct.current.currentNumberAfter;\n\n        let isPointAppear = false;\n        if(prevNumber.toString().includes(\".\") \n        || nextNumber.toString().includes('.') \n        || prevNumber.toString().includes(\"%\")\n        || nextNumber.toString().includes(\"%\")) {\n            isPointAppear = !isPointAppear;\n        }   \n        let toFixedCheckPoint = isPointAppear ? 1 : 0;\n        \n        switch(calcAct.current.currentOperation){\n           case \"+\":\n                if(!calcAct.current.currentNumberAfter.includes(\"%\")) {\n                   setResults(() => (+prevNumber + +nextNumber).toFixed(toFixedCheckPoint))\n                } else {\n                   setResults(() => (+prevNumber + ((+prevNumber / 100) * (+calcAct.current.currentNumberAfter.slice(0, -1)))).toFixed(toFixedCheckPoint));\n                }\n                break\n           case \"*\":\n                if(!calcAct.current.currentNumberAfter.includes(\"%\")) {\n                   setResults(() => (+prevNumber * +nextNumber).toFixed(toFixedCheckPoint))\n                } else {\n                   setResults(() => ((+prevNumber / 100) * (+calcAct.current.currentNumberAfter.slice(0, -1))).toFixed(toFixedCheckPoint))\n                }\n                break\n           case \"/\":\n                if(!calcAct.current.currentNumberAfter.includes(\"%\")) {\n                   setResults(() => (+prevNumber / +nextNumber).toFixed(toFixedCheckPoint))\n                } else { \n                   setResults(() => Number((+prevNumber) / (+calcAct.current.currentNumberAfter.slice(0, -1) / 100)).toFixed(1));\n                }\n                break\n           case \"-\":\n                if(!calcAct.current.currentNumberAfter.includes(\"%\")) {\n                   setResults(() => (+prevNumber - +nextNumber).toFixed(toFixedCheckPoint))\n                } else {\n                   setResults(() => (+prevNumber) - ((+prevNumber / 100) * (+calcAct.current.currentNumberAfter.slice(0, -1))).toFixed(toFixedCheckPoint));\n                }\n                break\n           default:\n               return calcAct.current.currentOperation\n        }\n        if(results !== null || results <= -1) {\n          const reverseResults = () => {\n            const res = getResults(calcAct.current.currentNumberBefore, calcAct.current.currentNumberAfter, calcAct.current.currentOperation)\n            const strRes = res.toString();\n            calcAct.current.currentNumberBefore = strRes;\n            calcAct.current.currentNumberAfter = \"\";\n            calcAct.current.currentOperation = \"\";\n            setResults(() => null)\n            setNumbersDisplay(() => strRes)\n          }\n          reverseResults()\n        }\n    }\n\n    const clear = () => {\n        setNumbersDisplay(() => \"\")\n        setResults(() => null)\n        calcAct.current.currentOperation = \"\";\n        calcAct.current.currentNumberBefore = \"\";\n        calcAct.current.currentNumberAfter = \"\";\n        calcAct.current.prevMemo = \"\";\n    }\n\n    return(\n        <Wrapper>\n            <AnswerBlock>\n                <GetNumbers>\n                    {numbersDisplay}\n                </GetNumbers>\n                <Answer>\n                    {results}\n                </Answer>\n            </AnswerBlock>\n            <FLexContainer>\n                    <RowBlock>\n                        <button style={{background: \"#d0cccc\"}} onClick={clear}>AC</button>\n                        <button onClick={memory}>\n                            ME\n                        </button>\n                        <button onClick={(e) => getItem(e)}>%</button>\n                        <button onClick={(e) => clickOperation(e)}>/</button>\n                    </RowBlock>\n                    <RowBlock>\n                        <button onClick={(e) => getItem(e)}>7</button>\n                        <button onClick={(e) => getItem(e)}>8</button>\n                        <button onClick={(e) => getItem(e)}>9</button>\n                        <button onClick={(e) => clickOperation(e)}>*</button>\n                    </RowBlock>\n                    <RowBlock>\n                        <button onClick={(e) => getItem(e)}>4</button>\n                        <button onClick={(e) => getItem(e)}>5</button>\n                        <button onClick={(e) => getItem(e)}>6</button>\n                        <button onClick={(e) => clickOperation(e)}>-</button>\n                    </RowBlock>\n                    <RowBlock>\n                        <button onClick={(e) => getItem(e)}>1</button>\n                        <button onClick={(e) => getItem(e)}>2</button>\n                        <button onClick={(e) => getItem(e)}>3</button>\n                        <button onClick={(e) => clickOperation(e)}>+</button>\n                    </RowBlock>\n                    <RowBlock>\n                        <button onClick={(e) => getItem(e)}>.</button>\n                        <button onClick={(e) => getItem(e)}>0</button>\n                        <ExceptionH3 onClick={finalResult}>=</ExceptionH3>\n                        <button onClick={memShowHandle}>MRC</button>\n                    </RowBlock>\n                </FLexContainer>\n        </Wrapper>\n    );\n}\n\nexport default Calculator;"]},"metadata":{},"sourceType":"module"}